<script setup>
import {onMounted, ref} from 'vue'

const posts = ref([])
onMounted(() => {
    fetch('https://dummyjson.com/posts')
        .then(response => response.json())
        .then(data => {
            posts.value = data.posts;
        });
});

const page = ref(1);
</script>
<template>
    <v-container>
        <v-card>
            <v-list lines="one">
                <v-list-item v-for="post in posts"
                             :key="post.id"
                             link
                             :to="{path:'/post/'+post.id}">
                    <v-list-item-title v-text="post.title"/>
                    <v-list-item-action>
                        <v-chip-group>
                            <v-chip v-for="tag in post.tags" :key="tag">{{ tag }}</v-chip>
                        </v-chip-group>
                    </v-list-item-action>
                </v-list-item>
            </v-list>
            <v-pagination
                v-model="page"
                :length="Math.ceil(posts.length/10)"
                circle
                color="primary"
                background-color="white"
                />
        </v-card>
    </v-container>
</template>